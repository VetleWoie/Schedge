{% extends 'base.html' %}
{% load static %}

{% block stylesheet %}
<link rel="stylesheet" href="{% static 'css/mypage.css' %}">
{% endblock %}

{% block title%}My Page{%endblock%}

{% block content %}

<div id="box_myevents">
    <div class="title_main">m&nbsp;y&nbsp;&nbsp;e&nbsp;v&nbsp;e&nbsp;n&nbsp;t&nbsp;s</div>
    {% if host_undecided %}
    {% for event in host_undecided %}
    <a href="{% url 'event' event_id=event.id %}" class="invislink">
        <div class="box">
            <div class="title"> {{event.title}}</div>
            <table class="info_table">
                <tr>
                    <td><img src="{% static 'icons/queue.png' %}" class="icons" width="25px"></td>
                    <td class="info_text">{{event.duration}} hours</td>
                    <td><img src="{% static 'icons/placeholder.png' %}" class="icons" width="25px"></td>
                    <td class="info_text">{{event.location}}</td>
                </tr>

            </table>
            <!-- <div class="description_text">{{event.description}}</div> -->
            <div class="n_partic"><img src="{% static 'icons/group.png' %}" class="group_icon" width="25px"></div>
            <div class="n_text">{{ event.n_attendees }}</div>
            <div class="event_btn result_btn">see replies</div>
        </div>
    </a>


    {% endfor %}
    {% else %}
    <div class="nothing">you have no events of your own to determine</div>
    {% endif %}
</div>

<div id="box_upcoming">
    <div class="title_main">
        u&nbsp;p&nbsp;c&nbsp;o&nbsp;m&nbsp;i&nbsp;n&nbsp;g&nbsp;&nbsp;e&nbsp;v&nbsp;e&nbsp;n&nbsp;t&nbsp;s&nbsp;
    </div>
    <div class="title_sub">host</div>
    {% if host_decided %}
    {% for event in host_decided %}
    <div class="box">
        <ul>
            <li class="title"> {{event.title}}</li>
            <li> {{event.duration}} hours</li>
            <li> {{event.description}}</li>
            <li> {{event.location}}</li>
        </ul>
    </div>
    {% endfor %}
    {% else %}
    <div class="nothing">you are not a host for any upcoming events</div>
    {% endif %}
    <div class="title_sub">participant</div>
    {% if participant_as_guest %}
    {% for event in participant_as_guest %}
    <a href="{% url 'event' event_id=event.id %}" class="invislink">
        <div class="box extra_bottom">
            <div class="title"> {{event.title}}</div>
            <table class="info_table extra_right">
                <tr>
                    <td><img src="{% static 'icons/queue.png' %}" class="icons" width="25px"></td>
                    <td class="info_text">{{event.duration}} hours</td>
                    <td><img src="{% static 'icons/placeholder.png' %}" class="icons" width="25px"></td>
                    <td class="info_text">{{event.location}}</td>
                    <td><img src="{% static 'icons/group.png' %}" class="icons" width="25px"></td>
                    <td class="info_text">{{event.n_attendees}}</td>
                </tr>
            </table>
        </div>
    </a>
    {% endfor %}
    {% else %}
    <div class="nothing">you do not participate in any upcoming events</div>
    {% endif %}
</div>


<div id="box_participant">

    <div class="title_main">
        invitations
    </div>
    {% if invites %}
    {% for invite in invites %}
    <a href="{% url 'event' event_id=invite.event.id %}" class="invislink">
        <div class="box extra_bottom">
            <div class="title"> {{invite.event.title}}</div>
            <div class="left_inv">
                <table>
                    <tr>
                        <td><img src="{% static 'icons/queue.png' %}" class="icons" width="25px"></td>
                        <td class="info_text">{{invite.event.duration}} hours</td>
                        <td><img src="{% static 'icons/placeholder.png' %}" class="icons" width="25px"></td>
                        <td class="info_text">{{invite.event.location}}</td>
                    </tr>
                </table>
            </div>
            <div class="right_inv">
                <a href="{% url 'invite_accept' invite_id=invite.id%}" class="invislink yes_btn">✓</a>
                <a href="{% url 'invite_reject' invite_id=invite.id%}" class="invislink no_btn">✗</a>
            </div>
        </div>
    </a>
    {% endfor %}
    {% else %}
    <div class="nothing">you don't have any event invitations</div>
    {% endif %}
    <div class="title_main">
        RSVP
    </div>
    {% if upcomingParticipant %}
    {% for participant in upcomingParticipant %}
    <a href="{% url 'event' event_id=participant.event.id %}" class="invislink">
        <div class="box">
            <div class="title"> {{participant.event.title}}</div>
            <table class="info_table">
                <tr>
                    <td><img src="{% static 'icons/queue.png' %}" class="icons" width="25px"></td>
                    <td class="info_text">{{participant.event.duration}} hours</td>
                    <td><img src="{% static 'icons/placeholder.png' %}" class="icons" width="25px"></td>
                    <td class="info_text">{{participant.event.location}}</td>
                </tr>

            </table>
            <div class="description_text">{{participant.event.description}}</div>

            <div class="event_btn result_btn">reply</div>
        </div>
    </a>
    {% endfor %}
    {% else %}
    <div class="nothing">you don't have any event RSVPs</div>
    {% endif %}

</div>



{%endblock%}